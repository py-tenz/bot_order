<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>–ú–µ–Ω—é –í–∞—à–µ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</title>
    <link rel="stylesheet" href="mainmenu.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∑–Ω–∞—á–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã */
        .cart-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: #FF6B6B;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            transition: all 0.3s ease;
        }

        .cart-icon:hover {
            transform: scale(1.1);
            background-color: #FF5252;
        }

        .cart-icon::before {
            content: "üõí";
            font-size: 24px;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #FFD166;
            color: #333;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            font-weight: bold;
        }

        #cart {
            display: none;
            position: fixed;
            top: 80px;
            right: 20px;
            width: 350px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            padding: 20px;
            z-index: 1000;
            border: 1px solid #e0e0e0;
        }

        #cart.open {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<!-- –ó–Ω–∞—á–æ–∫ –∫–æ—Ä–∑–∏–Ω—ã —Å —Å—á–µ—Ç—á–∏–∫–æ–º -->
<div class="cart-icon" id="cart-icon">
    <div class="cart-count" id="cart-count">0</div>
</div>

<div id="wrapper" class="clearfix">
    <div id="lefters">
        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞ -->
        <div class="Menu_types" data-name="–ö—É—Ä–∏—Ü–∞ –≥—Ä–∏–ª—å" data-price="350">
            <h3>–ö—É—Ä–∏—Ü–∞ –≥—Ä–∏–ª—å</h3>
            <p class="price">350 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–†–æ–ª–ª—ã –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è" data-price="400">
            <h3>–†–æ–ª–ª—ã –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è</h3>
            <p class="price">400 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–°—Ç–µ–π–∫ –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã" data-price="650">
            <h3>–°—Ç–µ–π–∫ –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã</h3>
            <p class="price">650 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å" data-price="320">
            <h3>–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å</h3>
            <p class="price">320 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–ë—É—Ä–≥–µ—Ä –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π" data-price="380">
            <h3>–ë—É—Ä–≥–µ—Ä –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π</h3>
            <p class="price">380 —Ä—É–±.</p>
        </div>
    </div>

    <div id="righters">
        <!-- –î—Ä—É–≥–∏–µ –±–ª—é–¥–∞ -->
        <div class="Menu_types" data-name="–°—É—à–∏ —Å –ª–æ—Å–æ—Å–µ–º" data-price="500">
            <h3>–°—É—à–∏ —Å –ª–æ—Å–æ—Å–µ–º</h3>
            <p class="price">500 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–ü–∞—Å—Ç–∞ –ö–∞—Ä–±–æ–Ω–∞—Ä–∞" data-price="450">
            <h3>–ü–∞—Å—Ç–∞ –ö–∞—Ä–±–æ–Ω–∞—Ä–∞</h3>
            <p class="price">450 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–ü–∏—Ü—Ü–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞" data-price="480">
            <h3>–ü–∏—Ü—Ü–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞</h3>
            <p class="price">480 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–°—É–ø –¢–æ–º –Ø–º" data-price="390">
            <h3>–°—É–ø –¢–æ–º –Ø–º</h3>
            <p class="price">390 —Ä—É–±.</p>
        </div>
        <div class="Menu_types" data-name="–î–µ—Å–µ—Ä—Ç –¢–∏—Ä–∞–º–∏—Å—É" data-price="280">
            <h3>–î–µ—Å–µ—Ä—Ç –¢–∏—Ä–∞–º–∏—Å—É</h3>
            <p class="price">280 —Ä—É–±.</p>
        </div>
    </div>
</div>

<!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
<div id="cart">
    <h2>–í–∞—à –∑–∞–∫–∞–∑</h2>
    <div class="cart-content">
        <ul id="cart-items"></ul>
        <div class="cart-total">
            <p>–ò—Ç–æ–≥–æ: <span id="total-price">0</span> —Ä—É–±.</p>
            <button id="send-order">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </div>
    </div>
</div>

<script>
    let cart = [];

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
    function addToCart(productName, productPrice) {
        cart.push({ name: productName, price: parseInt(productPrice) });
        updateCart();

        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
        const cartIcon = document.getElementById('cart-icon');
        cartIcon.style.transform = 'scale(1.2)';
        setTimeout(() => {
            cartIcon.style.transform = 'scale(1)';
        }, 300);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã
    function updateCart() {
        const cartItems = document.getElementById('cart-items');
        const totalPriceElement = document.getElementById('total-price');
        const cartCount = document.getElementById('cart-count');

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤
        cartCount.textContent = cart.length;
        cartCount.style.display = cart.length > 0 ? 'block' : 'none';

        // –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã
        cartItems.innerHTML = '';

        let totalPrice = 0;

        if (cart.length === 0) {
            const li = document.createElement('li');
            li.textContent = '–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞';
            li.style.textAlign = 'center';
            li.style.padding = '20px';
            li.style.color = '#666';
            cartItems.appendChild(li);
        } else {
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π –ø—Ä–æ–¥—É–∫—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É —Å –∫–Ω–æ–ø–∫–æ–π —É–¥–∞–ª–µ–Ω–∏—è
            cart.forEach((item, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <div class="cart-item">
                        <span class="item-name">${item.name}</span>
                        <span class="item-price">${item.price} —Ä—É–±.</span>
                        <button class="remove-item" data-index="${index}">√ó</button>
                    </div>
                `;
                cartItems.appendChild(li);
                totalPrice += item.price;
            });
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Ü–µ–Ω—É
        totalPriceElement.textContent = totalPrice;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    function removeItem(index) {
        cart.splice(index, 1);
        updateCart();
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ 6-–∑–Ω–∞—á–Ω–æ–≥–æ –∫–æ–¥–∞
    function generateOrderCode() {
        return Math.floor(100000 + Math.random() * 900000);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞
    function sendOrder() {
        if (cart.length === 0) {
            alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
            return;
        }

        // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const fullName = prompt("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –§–∞–º–∏–ª–∏—é –∏ –ò–º—è:");
        if (!fullName) {
            alert("–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.");
            return;
        }

        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
        const orderCode = generateOrderCode();

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–∫–∞–∑ –≤ Telegram
        sendOrderToTelegram(fullName, orderCode);

        // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞
        cart = [];
        updateCart();
        alert(`–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –í–∞—à –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: ${orderCode}`);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ –≤ Telegram
    function sendOrderToTelegram(fullName, orderCode) {
        let message = `–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ –æ—Ç ${fullName}:\n`;
        let totalPrice = 0;
        cart.forEach(item => {
            message += `${item.name} - ${item.price} —Ä—É–±.\n`;
            totalPrice += item.price;
        });
        message += `–ò—Ç–æ–≥–æ: ${totalPrice} —Ä—É–±.\n–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: ${orderCode}`;

        // –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ chat_id
        const botToken = "7781582767:AAEQG3g51dGUIlp5kN45gGbX-CeV5s5yemU";
        const chatId = "1205843084";

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram Bot API
        fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                chat_id: chatId,
                text: message,
            }),
        })
        .then(response => response.json())
        .then(data => {
            if (!data.ok) {
                console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞ –≤ Telegram:", data);
            }
        })
        .catch((error) => {
            console.error('–û—à–∏–±–∫–∞:', error);
        });
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    document.querySelectorAll('.Menu_types').forEach(item => {
        item.addEventListener('click', () => {
            const productName = item.getAttribute('data-name');
            const productPrice = item.getAttribute('data-price');
            addToCart(productName, productPrice);
        });
    });

    document.getElementById('send-order').addEventListener('click', () => {
        sendOrder();
    });

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–æ—Ä–∑–∏–Ω—ã –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–Ω–∞—á–æ–∫
    document.getElementById('cart-icon').addEventListener('click', () => {
        const cartDiv = document.getElementById('cart');
        cartDiv.classList.toggle('open');
    });

    // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π)
    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('remove-item')) {
            const index = parseInt(e.target.getAttribute('data-index'));
            removeItem(index);
        }
    });
</script>

</body>
</html>
